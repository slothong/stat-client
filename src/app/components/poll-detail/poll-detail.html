@let poll = (poll$ | async);

<section hlmCard class="cursor-pointer">
  <div hlmCardHeader>{{poll?.question}}</div>
  <div hlmCardDescription>{{poll?.description}}</div>
  <div hlmCardContent class="flex flex-col gap-3">
    <form
      class="flex flex-col gap-5"
      (ngSubmit)="submitForm()"
      [formGroup]="formGroup"
    >
      <hlm-radio-group formControlName="optionId" [value]="myVote$ | async">
        @for (option of poll?.options; track option) {
        <label
          class="flex items-center gap-3 border-gray-200 border rounded-lg py-2 px-2 bg-gray-50 hover:bg-gray-100"
        >
          <hlm-radio [value]="option.id" [disabled]="!!poll?.hasVoted">
            <hlm-radio-indicator />
            <div>{{ option.optionText }}</div>
          </hlm-radio>
        </label>
        }
      </hlm-radio-group>

      <button hlmBtn type="submit" [disabled]="!!poll?.hasVoted">
        투표하기
      </button>
    </form>
  </div>
</section>
